### 内存空间

学习内存空间之前，需要对三种数据结构有一个清晰的理解，他们分别是堆(heap)、栈(stack)队列(queue)

`JavaScript`并没有严格意义上区分栈内存与堆内存。

一般情况是基础数据类型，在栈内存中维护,引用数据类型在堆内存中维护，栈内存和堆内存没有本质差别。但是栈内存是从地址高位开始分配，堆内存是从地址低位开始分配。

简单理解栈的存取方式，先进后出，后进先出

![img](https://upload-images.jianshu.io/upload_images/599584-b12fef30803a0c53.png)

**堆数据结构**

堆数据结构是一种树状结构，它的存取数据的方式，则与书架相似。

**队列**

队列是一种先进先出(FIFO)的数据结构，正如排队过安检一样,排在队伍前面的一定是先过检的人。

![img](https://upload-images.jianshu.io/upload_images/599584-7ca4b641daf48c57.png)

`JavaScript`执行上下文生成之后，会创建一个叫做变量对象的特殊对象，`JavaScript`的基础数据类型往往都会保存在变量对象中。

基础数据类型都是一些简单的数据段：`Null`、`Boolean`、`undefined`、`String`、`Number`都是按值访问的.

**内存空间管理**

`JavaScript`的生命周期

1、分配你所需要的内存

2、使用分配到的内存(读、写)

3、不需要时将其释放、归还

```js
var a = 20; // 在内存中给数值a分配空间
alert(a + 20)// 使用内存
a = null; //使用完毕之后,释放内存空间
```

`JavaScript`有自动垃圾收集机制，那么这个自动垃圾收集机制的原理是什么呢？其实就是，找出那些不在继续使用的值，然后释放其占用的内存，垃圾收集会每隔固定进行一次释放。

在`JavaScript`中，最长使用的就是通过标记清除的算法来找到哪些对象不在继续使用的，因此`a = null` 其实就是做了一个释放引用的操作，让`a`原本对应的值失去引用，脱离执行环境，这个值会在下一次垃圾收集器执行操作时被找到并释放，适当的解除引用,是为页面获得一个更好性能的一个重要方式。

在局部环境中，当函数执行完毕,局部变量也就没有存在的必要，因此垃圾收集很容易做出判断并回收，但是全局变量什么时候需要释放内存空间的判断就很难了，应该避免使用全局变量。

